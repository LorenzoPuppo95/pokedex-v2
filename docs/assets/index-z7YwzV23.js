var d=Object.defineProperty;var g=(s,t,e)=>t in s?d(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var u=(s,t,e)=>g(s,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function e(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(n){if(n.ep)return;n.ep=!0;const c=e(n);fetch(n.href,c)}})();const l=class l{constructor(t=50,e=0){this.limit=t,this.offset=e}getPokemonData(){const t=l.BASE_URL+l.POKE_URL+`/?offset=${this.offset}&limit=${this.limit}"`;return fetch(t).then(e=>e.json()).then(e=>{const o=[];for(const n of e.results){const c=n.url,i=fetch(c).then(r=>r.json()).then(r=>r).catch(r=>console.log(r));o.push(i)}return Promise.all(o)}).catch(e=>console.log(e))}nextPage(){this.offset+this.limit>1300?this.offset=0:this.offset+=this.limit,this.getPokemonData()}previousPage(){this.offset-this.limit<0?this.offset=1300:this.offset-=this.limit,this.getPokemonData()}getPokemonByType(t){const e=l.BASE_URL+l.TYPE_URL+t;return fetch(e).then(o=>o.json()).then(o=>{const n=[];if(o&&o.pokemon)for(const c of o.pokemon)n.push(c.pokemon);else console.log(`No Pokémon found for type: ${t}`);return n}).then(o=>{const n=[];for(const c of o){const i=fetch(c.url).then(r=>r.json()).then(r=>r).catch(r=>console.log(r));n.push(i)}return Promise.all(n)}).catch(o=>(console.log(`Error fetching Pokémon by type: ${o}`),[]))}getPokemonByNumber(t){const e=l.BASE_URL+l.POKE_URL+t;return fetch(e).then(o=>o.json()).then(o=>o).catch(o=>console.log(o))}};u(l,"BASE_URL","https://pokeapi.co/api/v2/"),u(l,"POKE_URL","pokemon/"),u(l,"TYPE_URL","type/");let a=l;const f=new a,h=document.getElementById("pokemon-type"),y=document.getElementById("enter-btn");function P(){f.getPokemonData().then(s=>m(s))}function E(){f.previousPage(),f.getPokemonData().then(s=>m(s))}window.previous=E;function k(){f.nextPage(),f.getPokemonData().then(s=>m(s))}window.next=k;function L(){const s=a.BASE_URL+a.TYPE_URL;fetch(s).then(t=>t.json()).then(t=>U(t)).catch(t=>console.log(t))}function U(s){s.results.forEach(e=>{const o=document.createElement("option");o.value=e.name,o.textContent=e.name.charAt(0).toUpperCase()+e.name.slice(1),h.appendChild(o)})}y.addEventListener("click",()=>{const s=h.value;s?window.location.href=`type.html?type=${s}`:alert("Please select a Pokémon type.")});function m(s){console.log(s);const t=document.getElementById("dex-container");t.innerHTML="";for(const e of s){const o=document.createElement("div");o.classList.add("poke-container");const n=document.createElement("img");e.sprites.front_default===null?n.src="./assets/favicon.svg":n.src=e.sprites.front_default,n.width="100";const c=document.createElement("a");let i="";e.name.length>=12?i=p("span",e.name.charAt(0).toUpperCase()+e.name.slice(1,10)+"..."):i=p("span",e.name.charAt(0).toUpperCase()+e.name.slice(1)),c.title=e.name,c.appendChild(i),o.addEventListener("click",()=>{const r=e.id||e.url.split("/")[6];window.location.href=`detail.html?id=${r}`}),o.append(n,c),t.appendChild(o)}}function p(s,t){const e=document.createElement(s),o=document.createTextNode(t);return e.appendChild(o),e}P();L();
